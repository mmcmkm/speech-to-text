# 音声文字起こしツール

Gemini APIを使用して音声入力から文字起こしを行い、「えーと」「あー」などの躊躇いや曖昧な表現を自動的に除去するツールです。

## 機能
- 音声録音機能
- Gemini APIを使用した音声文字起こし
- 口癖や躊躇表現の自動除去（クリーン、詳細、スマートの3種類のモード）
- クリップボードへの自動コピー
- 体系化されたログ管理（256KB制限、ローテーション対応）
- 一定時間の無音検出による自動停止機能
- エラーハンドリングとログ記録

## 必要条件
- Windows 11
- Python 3.8以上
- Gemini API キー（環境変数 `GEMINI_API_KEY` に設定）
- その他の依存パッケージ（requirements.txt参照）

## インストール方法

1. リポジトリをクローンまたはダウンロードします
2. `install_global.bat` を実行します
   ```
   install_global.bat
   ```

## 使用方法

### 環境変数の設定
Gemini APIキーを環境変数に設定します：
```
setx GEMINI_API_KEY "あなたのAPIキー"
```
※環境変数を設定した後は、新しいコマンドプロンプトを開くか、PCを再起動してください。

### アプリケーションの実行
1. `run_global.bat` をダブルクリックするか、以下のコマンドを実行します：
   ```
   pythonw main.py
   ```

## アプリケーションの操作
1. アプリケーションを起動
2. 文字起こしモード（クリーン、詳細、スマート）を選択
3. 必要に応じて無音検出の閾値や時間を調整
4. 録音ボタンをクリックして録音開始
5. 停止ボタンをクリックするか、一定時間の無音で自動的に録音終了
6. 文字起こし結果が表示され、自動的にクリップボードにコピーされます

## ログ管理
- ログファイルは `logs` ディレクトリに保存されます
- ログファイル名は `speech_to_text_YYYYMMDD.log` の形式です
- エラーログは `speech_to_text_error_YYYYMMDD.log` の形式で別ファイルに保存
- ログファイルの最大サイズは256KBに制限されています
- 古いログは自動的にアーカイブされます

## 一時ファイル
- 録音データは一時ディレクトリに保存されます
- 24時間以上経過した一時ファイルは自動的に削除されます
- アプリケーション内の「一時ファイルのクリア」機能で手動削除も可能です

## 注意事項
- アプリケーション実行前に `GEMINI_API_KEY` 環境変数の設定が必要です
- ログディレクトリは自動的に作成されます
- エラー発生時はログファイルに詳細が記録されます 